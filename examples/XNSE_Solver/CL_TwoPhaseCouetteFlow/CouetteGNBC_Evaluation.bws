restart
**************

  BoSSSpad C# interpreter
  _______________________

Databases loaded:
List of 5 instances of IDatabaseInfo {
  0: { Session Count = 145; Grid Count = 23156; Path = \\hpccluster\hpccluster-scratch\smuda\CapillaryRise_studyDB }
  1: { Session Count = 175; Grid Count = 253; Path = D:\local\local_test_db }
  2: { Session Count = 79; Grid Count = 777; Path = \\hpccluster\hpccluster-scratch\smuda\XNSFE_testDB }
  3: { Session Count = 412; Grid Count = 8975; Path = \\HPCCLUSTER\hpccluster-scratch\smuda\XNSE_studyDB }
  4: { Session Count = 130; Grid Count = 60; Path = D:\local\local_XNSE_StudyDB }
}

 Console ready for input. Type 'help' for help.

==============
using BoSSS.Foundation;
using BoSSS.Foundation.XDG;
using BoSSS.Solution.XNSECommon;
using BoSSS.Application.XNSE_Solver;
**************
(1,2): warning CS0105: The using directive for `BoSSS.Foundation' appeared previously in this namespace
(4,1): warning CS0105: The using directive for `BoSSS.Application.XNSE_Solver' appeared previously in this namespace
No. of errors|warnings: 0|2.

==============
WorkflowMgm.Init("TwoPhaseCouetteFlow")
**************
Project name is set to 'TwoPhaseCouetteFlow'.

==============
WorkflowMgm.Sessions;
**************
List of 5 instances of ISessionInfo {
  0: TwoPhaseCouetteFlow	CouetteGNBC_test5_k2_mesh0	03/21/2020 15:49:11	8cb14238...
  1: TwoPhaseCouetteFlow	CouetteGNBC_test4_k2_mesh0	03/21/2020 12:17:07	46777807...
  2: TwoPhaseCouetteFlow	CouetteGNBC_testNewGrid2_k2_mesh02	03/31/2020 11:45:51	6843b387...
  3: TwoPhaseCouetteFlow	CouetteGNBC_testNewGrid2_k2_mesh0*	03/31/2020 11:33:31	250e0104...
  4: TwoPhaseCouetteFlow	CouetteGNBC_testNewGrid_k2_mesh0	03/24/2020 09:41:28	6df5eec4...
}
==============
List<ISessionInfo> evalSess = new List<ISessionInfo>();
evalSess.Add(WorkflowMgm.Sessions.Skip(2).Take(1).Pick(0));
**************
==============
evalSess
**************
List of 1 instances of ISessionInfo {
  0: TwoPhaseCouetteFlow	CouetteGNBC_testNewGrid2_k2_mesh02	03/31/2020 11:45:51	6843b387...
}
==============
**************
==============
var data = evalSess.ReadLogDataForMovingContactLine();
//var data = evalSess.ReadLogDataForXNSE(XNSE_Control.LoggingValues.MovingContactLine);
**************
number of contact lines: 2
Element at 0: time vs contact-pointX
Element at 1: time vs contact-pointY
Element at 2: time vs contact-VelocityX
Element at 3: time vs contact-VelocityY
Element at 4: time vs contact-angle

==============
LastError
**************
==============
**************
==============
ISessionInfoExtensions.PlotData(data[0].ElementAt(0), "time", "contact-point x")
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
ISessionInfoExtensions.PlotData(data[0].ElementAt(2), "time", "contact-velocity x")
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
ISessionInfoExtensions.PlotData(data[1].ElementAt(4), "time", "contact-angle")
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
**************
==============
// ==================
// interface position
// ==================
**************
==============
var terminalStep = evalSess.Pick(0).Timesteps.Last();
**************
==============
DGField phi = terminalStep.Fields.ElementAt(0);
phi
**************
Phi
==============
**************
==============
LevelSet LevSet = new LevelSet(phi.Basis, "LevelSet"); 
LevSet.Acc(1.0, phi); 
**************
==============
LevelSetTracker LsTrk = new LevelSetTracker((BoSSS.Foundation.Grid.Classic.GridData) phi.GridDat, XQuadFactoryHelper.MomentFittingVariants.Saye, 1, new string[] { "A", "B" }, LevSet);
LsTrk.UpdateTracker();
**************
==============
MultidimensionalArray interP = XNSEUtils.GetInterfacePoints(LsTrk, LevSet, quadRuleOrderForNodeSet:10);

**************
==============
**************
==============
double[] x = interP.ExtractSubArrayShallow(new int[] { -1, 0 }).To1DArray();
double[] y = interP.ExtractSubArrayShallow(new int[] { -1, 1 }).To1DArray();
**************
==============
var plt = new Gnuplot();
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
PlotFormat pltForm = new PlotFormat();
pltForm.LineColor  = LineColors.Red;
pltForm.Style      = Styles.Points;
pltForm.PointType  = PointTypes.Dot;
**************
==============
plt.PlotXY(x, y, format: pltForm);
plt.PlotNow();
**************
System.Drawing.Bitmap
==============
**************
==============
**************
==============
// ===================
// VelocityX profile
// ===================
**************
==============
DGField VelocityX = terminalStep.Fields.ElementAt(3);
VelocityX 
**************
VelocityX
==============
DGField VelocityY = terminalStep.Fields.ElementAt(4);
VelocityY
**************
VelocityY
==============
int N = 1000;
double[] yValues = new double[N-1];
double[] VmagValues = new double[N-1];
for(int n = 1; n < N; n++) {
    double[] probe = new double[] { 12.0, (13.6/(double)N)*n };
    yValues[n-1] = (13.6/(double)N)*n;
    try {
        double velX = VelocityX.ProbeAt(probe); 
        double velY = VelocityY.ProbeAt(probe); 
        VmagValues[n-1] = Math.Sqrt(velX*velX + velY*velY);    
    } catch {
        VmagValues[n-1] = 0.0;
    }
}
**************
==============
var plt = new Gnuplot();
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
plt.PlotXY(VmagValues, yValues);
plt.PlotNow();
**************
System.Drawing.Bitmap
==============
**************
==============
