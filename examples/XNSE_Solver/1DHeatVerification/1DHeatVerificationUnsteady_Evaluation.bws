restart
**************

  BoSSSpad C# interpreter
  _______________________

Databases loaded:
List of 6 instances of IDatabaseInfo {
  0: { Session Count = 145; Grid Count = 23156; Path = \\hpccluster\hpccluster-scratch\smuda\CapillaryRise_studyDB }
  1: { Session Count = 175; Grid Count = 253; Path = D:\local\local_test_db }
  2: { Session Count = 79; Grid Count = 777; Path = \\hpccluster\hpccluster-scratch\smuda\XNSFE_testDB }
  3: { Session Count = 731; Grid Count = 13257; Path = \\HPCCLUSTER\hpccluster-scratch\smuda\XNSE_studyDB }
  4: { Session Count = 172; Grid Count = 337; Path = D:\local\local_XNSE_StudyDB }
  5: { Session Count = 67; Grid Count = 301; Path = \\terminal03\Users\smuda\local\terminal03_XNSE_studyDB }
}

 Console ready for input. Type 'help' for help.

==============
using BoSSS.Foundation;
using BoSSS.Foundation.XDG;
using BoSSS.Application.XNSE_Solver;
**************
(1,2): warning CS0105: The using directive for `BoSSS.Foundation' appeared previously in this namespace
No. of errors|warnings: 0|1.

==============
WorkflowMgm.Init("XNSE/ThermodynamEquilib_unsteady");
**************
Project name is set to 'XNSE/ThermodynamEquilib_unsteady'.

==============
WorkflowMgm.Sessions
**************
Loading session d5d0e3a2-b47e-4602-b644-7be3d6a02bc6 failed with message 'Unexpected end when deserializing object. Path 'm_KeysAndQueries.PressureBlockPrecondMode'.'
Loading session b3e86543-1b07-405c-a359-ae9592e5d3df failed with message 'Unexpected end when deserializing object. Path 'm_KeysAndQueries.PressureBlockPrecondMode'.'
Loading session 097e1b7d-e16c-4525-a5dc-1c47cd35a00a failed with message 'Unexpected end when deserializing object. Path 'm_KeysAndQueries.Timestepper_Scheme'.'
Loading session 137b157c-93c2-4d88-9971-8d3c688eba75 failed with message 'Could not find file '\\HPCCLUSTER\hpccluster-scratch\smuda\XNSE_studyDB\sessions\137b157c-93c2-4d88-9971-8d3c688eba75\Session.info'.'
List of 22 instances of ISessionInfo {
  0: XNSE/ThermodynamEquilib_unsteady	empty-session-name	08/30/2019 16:25:16	39e3090e...
  1: XNSE/ThermodynamEquilib_unsteady	empty-session-name	08/30/2019 16:24:04	cd347bdb...
  2: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_noHeatConv	06/26/2020 16:57:47	b5b3b452...
  3: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_noHeatConv*	06/26/2020 16:54:57	83454db8...
  4: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_noHeatConv*	06/26/2020 16:39:27	b4097a03...
  5: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_Conv_prescrbdMassForLS	06/22/2020 17:02:23	e0bb20c5...
  6: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_Conv_prescrbdMassForLS*	06/22/2020 16:45:05	659d5845...
  7: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_Conv_prescrbdMassForLS*	06/18/2020 22:20:55	75b55efe...
  8: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_noConv*	06/18/2020 22:18:28	0637507d...
  9: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_NoConvReInit*	06/18/2020 21:56:07	44b100cc...
  10: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_NoConvReInit*	06/18/2020 21:47:26	6d293d42...
  11: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_NoConvReInit*	06/18/2020 14:49:49	b5230c79...
  12: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_NoConv*	06/18/2020 14:11:41	270444e3...
  13: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_NoConv*	06/18/2020 14:10:37	fa8cfec7...
  14: XNSE/ThermodynamEquilib_unsteady	empty-session-name*	06/18/2020 14:00:08	2bdfd591...
  15: XNSE/ThermodynamEquilib_unsteady	empty-session-name*	06/18/2020 13:55:13	3aeb4d05...
  16: XNSE/ThermodynamEquilib_unsteady	empty-session-name*	06/18/2020 10:35:52	460588c2...
  17: XNSE/ThermodynamEquilib_unsteady	empty-session-name*	05/15/2020 14:13:28	2d8cd25c...
  18: XNSE/ThermodynamEquilib_unsteady	empty-session-name*	05/14/2020 21:33:22	2a81f2b2...
  19: XNSE/ThermodynamEquilib_unsteady	empty-session-name*	05/14/2020 21:21:28	696e4946...
  20: XNSE/ThermodynamEquilib_unsteady	empty-session-name*	05/14/2020 21:18:04	a2369892...
  21: XNSE/ThermodynamEquilib_unsteady	empty-session-name	05/10/2020 18:35:27	d34597e3...
}
==============
//WorkflowMgm.Sessions.Pick(2).Export().WithSupersampling(2).Do()
**************
==============
List<ISessionInfo> evalSess = new List<ISessionInfo>();
evalSess.Add(WorkflowMgm.Sessions.Pick(2));
**************
==============
evalSess
**************
List of 1 instances of ISessionInfo {
  0: XNSE/ThermodynamEquilib_unsteady	1Dheat_unsteadyTest_noHeatConv	06/26/2020 16:57:47	b5b3b452...
}
==============
var data = evalSess.ReadLogDataForXNSE(XNSE_Control.LoggingValues.EvaporationL);
**************
Element at 0: time vs interfacePosition
Element at 1: time vs meanInterfaceVelocity
Element at 2: time vs meanMassFlux

==============
ISessionInfoExtensions.PlotData(data.ElementAt(0), "time", "interfacePosition")
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
ISessionInfoExtensions.PlotData(data.ElementAt(1), "time", "meanInterfaceVelocity")
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
ISessionInfoExtensions.PlotData(data.ElementAt(2), "time", "meanMassFlux")
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
// ==========================
// Logdata reference solution
// ==========================
double alphaV  = 0.6958e-7;
double lambdaV = 1.71814;
double rhoV    = 106.4;
**************
==============
double[] time = data.ElementAt(1).dataGroups[0].Abscissas;
double t0 = 0.5;
// interface velocity
double[] velocIref = new double[time.Length];
for (int i = 0; i < time.Length; i++) {
    velocIref[i] = Math.Sqrt(alphaV)*(lambdaV/Math.Sqrt(t0+time[i]));
}
data.ElementAt(1).AddDataGroup(new Plot2Ddata.XYvalues("analytical solution", time, velocIref));
**************
BoSSS.Application.BoSSSpad.Plot2Ddata+XYvalues
==============
ISessionInfoExtensions.PlotData(data.ElementAt(1), "time", "meanInterfaceVelocity")
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
// mass flux
double[] mFluxRef = new double[time.Length];
for (int i = 0; i < time.Length; i++) {
    mFluxRef[i] = rhoV*velocIref[i];
}
data.ElementAt(2).AddDataGroup(new Plot2Ddata.XYvalues("analytical solution", time, mFluxRef));
**************
BoSSS.Application.BoSSSpad.Plot2Ddata+XYvalues
==============
ISessionInfoExtensions.PlotData(data.ElementAt(2), "time", "meanMassFlux")
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
// interface position
double[] posIref = new double[time.Length];
double Lv0 = 5e-3;
for (int i = 0; i < time.Length; i++) {
    posIref[i] = Lv0 + 2.0*lambdaV*Math.Sqrt(alphaV*(t0+time[i]));
}
data.ElementAt(0).AddDataGroup(new Plot2Ddata.XYvalues("analytical solution", time, posIref));
**************
BoSSS.Application.BoSSSpad.Plot2Ddata+XYvalues
==============
ISessionInfoExtensions.PlotData(data.ElementAt(0), "time", "interfacePosition")
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
**************
==============
// ================================
// Temperature and velocity profile
// ================================
double Tsat   = 620;
double deltaT = 5;
double rhoL   = 586.5;
**************
==============
using MathNet.Numerics;
**************
(1,2): warning CS0105: The using directive for `MathNet.Numerics' appeared previously in this namespace
No. of errors|warnings: 0|1.

==============
evalSess.Pick(0).Timesteps.Count;
**************
51
==============
int tsI         = 50;
double phystime = evalSess.Pick(0).Timesteps.Pick(tsI).PhysicalTime;
phystime
**************
4.99999999999994
==============
DGField Temperature = evalSess.Pick(0).Timesteps.Pick(tsI).Fields.ElementAt(6);
Temperature
**************
Temperature
==============
DGField Velocity = evalSess.Pick(0).Timesteps.Pick(tsI).Fields.ElementAt(5);
Velocity
**************
VelocityY
==============
int N = 100;
double[] yValues = new double[N-1];
double[] Tvalues = new double[N-1];
double[] TvalRef = new double[N-1];
double[] Vvalues = new double[N-1];
double[] VvalRef = new double[N-1];
for(int n = 1; n < N; n++) {
    double[] probe = new double[] { 0.042e-3, (10.3e-3/(double)N)*n };
    yValues[n-1] = (10.3e-3/(double)N)*n;
    try {
        Tvalues[n-1] = Temperature.ProbeAt(probe);  
        Vvalues[n-1] = Velocity.ProbeAt(probe);    
    } catch {
        Tvalues[n-1] = Tsat;
        Vvalues[n-1] = 0.0;
    }
    double zi = Lv0 + 2.0*lambdaV*Math.Sqrt(alphaV*(t0+phystime));
    if(yValues[n-1] < zi) {
        TvalRef[n-1] = Tsat + deltaT * (SpecialFunctions.Erf(lambdaV) - SpecialFunctions.Erf(lambdaV + Math.Sqrt(1.0 / alphaV) 
        * ((yValues[n-1]-zi) / (2.0 * Math.Sqrt(t0+phystime))))) / (1.0 + SpecialFunctions.Erf(lambdaV));
        VvalRef[n-1] = 0.0;
    } else {
        TvalRef[n-1] = Tsat; 
        VvalRef[n-1] = Math.Sqrt(alphaV)*(lambdaV/Math.Sqrt(t0+phystime))*(1-(rhoV/rhoL));   
    }
}
**************
==============
**************
==============
var plt = new Gnuplot();
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
PlotFormat pltForm = new PlotFormat();
pltForm.LineColor  = LineColors.Red;
pltForm.Style      = Styles.Lines;
pltForm.DashType   = DashTypes.Dashed;
//pltForm.PointType  = PointTypes.Dot;
**************
==============
PlotFormat pltFormRef = new PlotFormat();
pltFormRef.LineColor  = LineColors.Black;
pltFormRef.Style      = Styles.Lines;
**************
==============
plt.PlotXY(yValues, TvalRef, format:pltFormRef);
plt.PlotXY(yValues, Tvalues, format:pltForm);
plt.PlotNow();
**************
System.Drawing.Bitmap
==============
**************
==============
Plot2Ddata dat            = new Plot2Ddata();
Plot2Ddata.XYvalues xyVal = new Plot2Ddata.XYvalues(null, yValues, Tvalues);
dat.AddDataGroup(xyVal);
string name = "1DHeatUnsteady_TemperatureProfile_time0.txt";
dat.SaveToTextFile(name);
**************
Warning: Handling of logarithms still unclear in 'SaveToTextFile', Raw Data Written
BoSSS.Application.BoSSSpad.Plot2Ddata+XYvalues
==============
dat   = new Plot2Ddata();
xyVal = new Plot2Ddata.XYvalues(null, yValues, TvalRef);
dat.AddDataGroup(xyVal);
name = "1DHeatUnsteady_refTemperatureProfile_time0.txt";
dat.SaveToTextFile(name);
**************
Warning: Handling of logarithms still unclear in 'SaveToTextFile', Raw Data Written
BoSSS.Application.BoSSSpad.Plot2Ddata+XYvalues
==============
var plt = new Gnuplot();
**************
Using gnuplot: C:\Users\smuda\AppData\Local\FDY\BoSSS\bin\native\win\gnuplot-gp510-20160418-win32-mingw\gnuplot\bin\gnuplot.exe

==============
plt.PlotXY(yValues, VvalRef, format:pltFormRef);
plt.PlotXY(yValues, Vvalues, format:pltForm);
plt.PlotNow();
**************
System.Drawing.Bitmap
==============
**************
==============
Plot2Ddata dat            = new Plot2Ddata();
Plot2Ddata.XYvalues xyVal = new Plot2Ddata.XYvalues(null, yValues, Vvalues);
dat.AddDataGroup(xyVal);
string name = "1DHeatSteady_VelocityProfile_time0.txt";
//dat.SaveToTextFile(name);
**************
Warning: Handling of logarithms still unclear in 'SaveToTextFile', Raw Data Written
BoSSS.Application.BoSSSpad.Plot2Ddata+XYvalues
==============
dat   = new Plot2Ddata();
xyVal = new Plot2Ddata.XYvalues(null, yValues, VvalRef);
dat.AddDataGroup(xyVal);
name = "1DHeatSteady_refVelocityProfile_time0.txt";
//dat.SaveToTextFile(name);
**************
Warning: Handling of logarithms still unclear in 'SaveToTextFile', Raw Data Written
BoSSS.Application.BoSSSpad.Plot2Ddata+XYvalues
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
