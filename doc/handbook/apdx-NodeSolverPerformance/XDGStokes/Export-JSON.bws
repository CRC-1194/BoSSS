restart
**************
(18,7): error CS0246: The type or namespace name `Renci' could not be found. Are you missing an assembly reference?

  BoSSSpad C# interpreter
  _______________________

Databases loaded:
List of 1 instances of IDatabaseInfo {
  0: { Session Count = 12; Grid Count = 31; Path = P:\testDB }
}

 Console ready for input. Type 'help' for help.

==============
var tmpDB = OpenOrCreateDatabase(@"D:\SyncHHLR\DB_XdgStokes_Schurprec");
**************
Opening existing database 'D:\SyncHHLR\DB_XdgStokes_Schurprec'.

==============
tmpDB.Sessions.Pick(0).NumberOfCores()
**************
1
==============
tmpDB.Sessions
**************
List of 33 instances of ISessionInfo {
  0: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J512_p5_exp_Kcycle_schwarz	11/10/2020 11:22:54	8fc2948a...
  1: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J4096_p3_exp_Kcycle_schwarz	11/10/2020 11:22:28	7a327f59...
  2: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J4096_p2_exp_Kcycle_schwarz	11/10/2020 11:22:01	0d1c44b5...
  3: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J512_p3_exp_Kcycle_schwarz	11/10/2020 11:22:16	6ba3ddc4...
  4: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J32768_p5_exp_Kcycle_schwarz*	11/10/2020 11:23:04	4f698779...
  5: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J32768_p3_exp_Kcycle_schwarz*	11/10/2020 11:22:42	627f4699...
  6: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J4096_p5_exp_Kcycle_schwarz*	11/10/2020 11:22:53	f1c88551...
  7: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J32768_p2_exp_Kcycle_schwarz*	11/10/2020 11:22:11	72117c56...
  8: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J512_p2_exp_Kcycle_schwarz	11/10/2020 11:21:52	cbd4eac3...
  9: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1_failure	J32768_p2_exp_Kcycle_schwarz_Sblocks2_pLow2*	10/23/2020 14:06:57	2256f034...
  10: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1_failure	J32768_p2_classic_pardiso_Sblocks4_pLow2*	10/23/2020 14:06:00	95f45546...
  11: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1_failure	J32768_p2_exp_Kcycle_schwarz_Sblocks4_pLow2*	10/23/2020 14:06:55	96abb973...
  12: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1_failure	J32768_p2_classic_pardiso_Sblocks2_pLow2*	10/23/2020 14:06:02	c2a42901...
  13: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1	J4096_p2_exp_Kcycle_schwarz_Sblocks4_pLow2	10/23/2020 14:05:55	d3e9efa8...
  14: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1	J4096_p2_classic_pardiso_Sblocks2_pLow2	10/23/2020 14:06:02	39b3f7d6...
  15: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1	J4096_p2_classic_pardiso_Sblocks4_pLow2	10/23/2020 14:05:56	e11dd697...
  16: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1	J4096_p2_exp_Kcycle_schwarz_Sblocks2_pLow2	10/23/2020 14:05:55	45894ad2...
  17: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1	J512_p2_exp_Kcycle_schwarz_Sblocks4_pLow2	10/23/2020 14:06:01	b70e8f37...
  18: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1	J512_p2_exp_Kcycle_schwarz_Sblocks2_pLow2	10/23/2020 14:06:03	2a25e276...
  19: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1	J512_p2_classic_pardiso_Sblocks4_pLow2	10/23/2020 14:05:54	a5b1a717...
  20: Xdg_Stokes_Schwarz-Schur_scaling_Sayex1	J512_p2_classic_pardiso_Sblocks2_pLow2	10/23/2020 14:05:55	4c373283...
  21: Xdg_Stokes_Schwarz-Schur_scaling	J4096_p2_exp_Kcycle_schwarz_Sblocks4_pLow2	10/23/2020 13:10:31	d505e135...
  22: Xdg_Stokes_Schwarz-Schur_scaling	J4096_p2_classic_pardiso_Sblocks4_pLow2	10/23/2020 13:10:23	adfc07e4...
  23: Xdg_Stokes_Schwarz-Schur_scaling	J4096_p2_classic_pardiso_Sblocks2_pLow2	10/23/2020 13:10:28	de8ca950...
  24: Xdg_Stokes_Schwarz-Schur_scaling	J4096_p2_exp_Kcycle_schwarz_Sblocks2_pLow2	10/23/2020 13:10:23	8396db57...
  25: Xdg_Stokes_Schwarz-Schur_scaling	J32768_p2_exp_Kcycle_schwarz_Sblocks4_pLow2*	10/23/2020 13:10:56	8dbb26cc...
  26: Xdg_Stokes_Schwarz-Schur_scaling	J512_p2_exp_Kcycle_schwarz_Sblocks4_pLow2	10/23/2020 13:10:31	2e704e14...
  27: Xdg_Stokes_Schwarz-Schur_scaling	J32768_p2_exp_Kcycle_schwarz_Sblocks2_pLow2*	10/23/2020 13:10:28	b0dd6b69...
  28: Xdg_Stokes_Schwarz-Schur_scaling	J32768_p2_classic_pardiso_Sblocks4_pLow2*	10/23/2020 13:10:24	9104016c...
  29: Xdg_Stokes_Schwarz-Schur_scaling	J32768_p2_classic_pardiso_Sblocks2_pLow2*	10/23/2020 13:10:23	d87d2179...
  30: Xdg_Stokes_Schwarz-Schur_scaling	J512_p2_exp_Kcycle_schwarz_Sblocks2_pLow2	10/23/2020 13:10:29	9035e0be...
  31: Xdg_Stokes_Schwarz-Schur_scaling	J512_p2_classic_pardiso_Sblocks4_pLow2	10/23/2020 13:10:31	ebe26d2e...
  32: Xdg_Stokes_Schwarz-Schur_scaling	J512_p2_classic_pardiso_Sblocks2_pLow2	10/23/2020 13:09:55	1e07c1d4...
}
==============
**************
==============
**************
==============
**************
==============
**************
==============
string WFlowName = "Xdg_Stokes_Schwarz-direct_4SB_2Lvl";
WorkflowMgm.Init(WFlowName);
WorkflowMgm.AllJobs;
**************
Project name is set to 'Xdg_Stokes_Schwarz-direct_4SB_2Lvl'.
List of 0 instances of KeyValuePair{String,Job} {
}
==============
// Umbenennen der fehlgeschlagenen Runs
tmpDB.Sessions.Where(s=>!s.SuccessfulTermination).Where(s=>s.ProjectName==WFlowName).ForEach(s=>s.ProjectName=WFlowName+"_failure")
**************
==============
WorkflowMgm.Sessions
**************
List of 5 instances of ISessionInfo {
  0: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J512_p5_exp_Kcycle_schwarz	11/10/2020 11:22:54	8fc2948a...
  1: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J4096_p3_exp_Kcycle_schwarz	11/10/2020 11:22:28	7a327f59...
  2: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J4096_p2_exp_Kcycle_schwarz	11/10/2020 11:22:01	0d1c44b5...
  3: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J512_p3_exp_Kcycle_schwarz	11/10/2020 11:22:16	6ba3ddc4...
  4: Xdg_Stokes_Schwarz-direct_4SB_2Lvl	J512_p2_exp_Kcycle_schwarz	11/10/2020 11:21:52	cbd4eac3...
}
==============
WorkflowMgm.SessionTable.Rows.Count;
**************
5
==============
using System.IO;
**************
(1,2): warning CS0105: The using directive for `System.IO' appeared previously in this namespace
No. of errors|warnings: 0|1.

==============
//DirectoryInfo dir = Directory.CreateDirectory(CurrentDocDir+@"\"+WFlowName);
//string dirpath    = dir.FullName;
string dirpath = CurrentDocDir;
**************
==============
static class AddCols {
    static public object XdgMatrixAssembly_time(ISessionInfo SI) {
        var mcr = SI.GetProfiling()[0];
        var ndS = mcr.FindChildren("XdgMatrixAssembly");
        var nd  = ndS.ElementAt(0);
        return nd.TimeSpentInMethod.TotalSeconds  / nd.CallCount;
    }
    static public object Aggregation_basis_init_time(ISessionInfo SI) {
        var mcr = SI.GetProfiling()[0];
        var ndS = mcr.FindChildren("Aggregation_basis_init");
        var nd  = ndS.ElementAt(0);
        return nd.TimeSpentInMethod.TotalSeconds  / nd.CallCount;
    }
    static public object Solver_Init_time(ISessionInfo SI) {
        var mcr = SI.GetProfiling()[0];
        var ndS = mcr.FindChildren("Slv Init");
        var nd  = ndS.ElementAt(0);
        //Console.WriteLine("Number of nodes: " + ndS.Count() + " cc " + nd.CallCount );
        return nd.TimeSpentInMethod.TotalSeconds / nd.CallCount;
    }
    static public object Solver_Run_time(ISessionInfo SI) {
        var mcr = SI.GetProfiling()[0];
        var ndS = mcr.FindChildren("Slv Iter");
        var nd  = ndS.ElementAt(0);
        return nd.TimeSpentInMethod.TotalSeconds  / nd.CallCount;
    }
    static public object NoOfCores(ISessionInfo SI){
        return SI.GetProfiling().Length;
        }
    static public object DOFs(ISessionInfo SI){
        var fields    = SI.Timesteps.First().Fields;
        var fieldlist = new List<string>();
        fieldlist.AddRange("Pressure","VelocityX","VelocityY","VelocityZ");
        int totalDOF = 0;
        foreach(string field in fieldlist){
            if(fields.Find(field)==null)
                throw new Exception("not found: "+field);
            else
                totalDOF+=SI.GetDOF(field);
            }
        
        return totalDOF;
    }
    // ugly hack, works only for V-cycle
    static public object NoIter(ISessionInfo SI){
        var mcr = SI.GetProfiling()[0];
        var ndS = mcr.FindChildren("BoSSS.Solution.AdvancedSolvers.DirectSolver.Solve");
        var nd  = ndS.ElementAt(0);
        return nd.CallCount;
    }
    
    static public object minSolRunT(ISessionInfo SI){
        return (double)XdgMatrixAssembly_time(SI) + (double)Aggregation_basis_init_time(SI) + (double)Solver_Init_time(SI) + (double)Solver_Run_time(SI);
    }
}
**************
==============
WorkflowMgm.AdditionalSessionTableColums.Clear();
WorkflowMgm.AdditionalSessionTableColums.Add(
    "XdgMatrixAssembly", AddCols.XdgMatrixAssembly_time);
WorkflowMgm.AdditionalSessionTableColums.Add(
    "Aggregation_basis_init_time", AddCols.Aggregation_basis_init_time);
WorkflowMgm.AdditionalSessionTableColums.Add(
    "Solver_Init_time", AddCols.Solver_Init_time);
WorkflowMgm.AdditionalSessionTableColums.Add(
    "Solver_Run_time", AddCols.Solver_Run_time);
WorkflowMgm.AdditionalSessionTableColums.Add(
    "NoOfCores", AddCols.NoOfCores);
WorkflowMgm.AdditionalSessionTableColums.Add("DOFs",AddCols.DOFs);  
WorkflowMgm.AdditionalSessionTableColums.Add("NoIter",AddCols.NoIter);
WorkflowMgm.AdditionalSessionTableColums.Add("minSolRunT",AddCols.minSolRunT);
**************
==============
var SessTab = WorkflowMgm.SessionTable;
**************
==============
SessTab.GetColumnNames().OrderBy(s=>s);
**************
List of 199 instances of String {
  0: AdaptiveMeshRefinement
  1: AdvancedDiscretizationOptions.alpha
  2: AdvancedDiscretizationOptions.CellAgglomerationThreshold
  3: AdvancedDiscretizationOptions.ContiSign
  4: AdvancedDiscretizationOptions.CurvatureNeeded
  5: AdvancedDiscretizationOptions.FilterConfiguration.CurvatureLimiting
  6: AdvancedDiscretizationOptions.FilterConfiguration.FilterCurvatureCycles
  7: AdvancedDiscretizationOptions.FilterConfiguration.gradOpt
  8: AdvancedDiscretizationOptions.FilterConfiguration.hessOpt
  9: AdvancedDiscretizationOptions.FilterConfiguration.LevelSetSource
  10: AdvancedDiscretizationOptions.FilterConfiguration.NoOfPatchRecoverySweeps
  11: AdvancedDiscretizationOptions.FilterConfiguration.PatchRecoveryDomWidth
  12: AdvancedDiscretizationOptions.FilterConfiguration.useFiltLevSetGrad
  13: AdvancedDiscretizationOptions.FilterConfiguration.useFiltLevSetHess
  14: AdvancedDiscretizationOptions.FilterConfiguration.UseWholeField
  15: AdvancedDiscretizationOptions.GNBC_Localization
  16: AdvancedDiscretizationOptions.GNBC_SlipLength
  17: AdvancedDiscretizationOptions.LFFA
  18: AdvancedDiscretizationOptions.LFFB
  19: AdvancedDiscretizationOptions.ObjectiveParam
  20: AdvancedDiscretizationOptions.Penalty1[0]
  21: AdvancedDiscretizationOptions.Penalty1[1]
  22: AdvancedDiscretizationOptions.Penalty2
  23: AdvancedDiscretizationOptions.PenaltySafety
  24: AdvancedDiscretizationOptions.PresPenalty1[0]
  25: AdvancedDiscretizationOptions.PresPenalty1[1]
  26: AdvancedDiscretizationOptions.PresPenalty2
  27: AdvancedDiscretizationOptions.RescaleConti
  28: AdvancedDiscretizationOptions.SST_isotropicMode
  29: AdvancedDiscretizationOptions.StressPenalty
  30: AdvancedDiscretizationOptions.SurfStressTensor
  31: AdvancedDiscretizationOptions.UseGhostPenalties
  32: AdvancedDiscretizationOptions.UseLevelSetStabilization
  33: AdvancedDiscretizationOptions.UseWeightedAverages
  34: AdvancedDiscretizationOptions.ViscosityMode
  35: AgglomerationThreshold
  36: Aggregation_basis_init_time
  37: AlternateDbPaths[0].Item1
  38: AlternateDbPaths[0].Item2
  39: AlternateDbPaths[1].Item1
  40: AlternateDbPaths[1].Item2
  41: AMR_startUpSweeps
  42: BaseRefinementLevel
  43: BurstSave
  44: CheckInterfaceProps
  45: CheckJumpConditions
  46: ComputeEnergyProperties
  47: conductMode
  48: ContinueOnIoError
  49: ControlFileText_Index
  50: CutCellQuadratureType
  51: DGdegree:Curvature
  52: DGdegree:GravityY
  53: DGdegree:Phi
  54: DGdegree:PhiDG
  55: DGdegree:Pressure
  56: DGdegree:Velocity*
  57: DOFs
  58: dtFixed
  59: dtMax
  60: dtMin
  61: DynamicLoadBalancing_ImbalanceThreshold
  62: DynamicLoadBalancing_On
  63: DynamicLoadBalancing_Period
  64: DynamicLoadBalancing_RedistributeAtStartup
  65: EllipticExtVelAlgoControl.FluxVariant
  66: EllipticExtVelAlgoControl.IsotropicViscosity
  67: EllipticExtVelAlgoControl.PenaltyMultiplierFlux
  68: EllipticExtVelAlgoControl.PenaltyMultiplierInterface
  69: EllipticExtVelAlgoControl.subGridRestriction
  70: Endtime
  71: EnforceLevelSetConservation
  72: GeneratedFromCode
  73: Grid:hMax
  74: Grid:hMin
  75: Grid:NoOfCells
  76: Grid:SpatialDimension
  77: GridPartType
  78: ImmediatePlotPeriod
  79: incrementTimesteps
  80: InitialValues_EvaluatorsVec[0].Key
  81: InterAverage
  82: kinEPressureDiscretization
  83: KineticEnergyeBlockPrecondMode
  84: kinEViscousDiscretization
  85: LevelSet_ConvergenceCriterion
  86: LinearSolver.ConvergenceCriterion
  87: LinearSolver.exp_localPrec_Min_dt
  88: LinearSolver.exp_localPrec_muA
  89: LinearSolver.MaxKrylovDim
  90: LinearSolver.MaxSolverIterations
  91: LinearSolver.MinSolverIterations
  92: LinearSolver.NoOfMultigridLevels
  93: LinearSolver.pMaxOfCoarseSolver
  94: LinearSolver.SolverCode
  95: LinearSolver.SolverMode
  96: LinearSolver.TargetBlockSize
  97: LinearSolver.verbose
  98: logFileDirectory
  99: LogPeriod
  100: LogValues
  101: LS_TrackerWidth
  102: LSContiProjectionMethod
  103: LSunderrelax
  104: minSolRunT
  105: MultiStepInit
  106: NoIter
  107: NonLinearSolver.constantNewtonIterations
  108: NonLinearSolver.ConvergenceCriterion
  109: NonLinearSolver.Globalization
  110: NonLinearSolver.MaxSolverIterations
  111: NonLinearSolver.MinSolverIterations
  112: NonLinearSolver.printLambda
  113: NonLinearSolver.SolverCode
  114: NonLinearSolver.UnderRelax
  115: NonLinearSolver.verbose
  116: NoOfCores
  117: NoOfMultigridLevels
  118: NoOfTimesteps
  119: Option_LevelSetEvolution
  120: Paramstudy_ContinueOnError
  121: PhysicalParameters.beta_a
  122: PhysicalParameters.beta_b
  123: PhysicalParameters.betaL
  124: PhysicalParameters.betaS_A
  125: PhysicalParameters.betaS_B
  126: PhysicalParameters.Giesekus_a
  127: PhysicalParameters.Giesekus_b
  128: PhysicalParameters.giesekusfactor_a
  129: PhysicalParameters.giesekusfactor_b
  130: PhysicalParameters.IncludeConvection
  131: PhysicalParameters.lambda_I
  132: PhysicalParameters.lambdaI_tilde
  133: PhysicalParameters.Material
  134: PhysicalParameters.mu_A
  135: PhysicalParameters.mu_B
  136: PhysicalParameters.mu_I
  137: PhysicalParameters.reynolds_A
  138: PhysicalParameters.reynolds_B
  139: PhysicalParameters.rho_A
  140: PhysicalParameters.rho_B
  141: PhysicalParameters.Sigma
  142: PhysicalParameters.sliplength
  143: PhysicalParameters.theta_e
  144: PhysicalParameters.useArtificialSurfaceForce
  145: PhysicalParameters.Weissenberg_a
  146: PhysicalParameters.Weissenberg_b
  147: ProjectName
  148: RefinementLevel
  149: RefineNavierSlipBoundary
  150: RefineStrategy
  151: RegisterUtilitiesToIOFields
  152: RegularTerminated
  153: ReInitControl.ConvergenceCriterion
  154: ReInitControl.FastMarchingPrecond
  155: ReInitControl.MaxIt
  156: ReInitControl.PenaltyMultiplierFlux
  157: ReInitControl.PenaltyMultiplierInterface
  158: ReInitControl.Potential
  159: ReInitControl.PrintIterations
  160: ReInitControl.underrelaxation
  161: ReInitControl.Upwinding
  162: ReInitPeriod
  163: rollingSaves
  164: saveperiod
  165: savetodb
  166: Session
  167: SessionName
  168: SkipSolveAndEvaluateResidual
  169: solveCoupledHeatEquation
  170: solveKineticEnergyEquation
  171: Solver_Init_time
  172: Solver_Run_time
  173: staticTimestep
  174: SuperSampling
  175: TemperatureBlockPrecondMode
  176: TestMode
  177: ThermalParameters.c_A
  178: ThermalParameters.c_B
  179: ThermalParameters.fc
  180: ThermalParameters.hVap
  181: ThermalParameters.IncludeConvection
  182: ThermalParameters.k_A
  183: ThermalParameters.k_B
  184: ThermalParameters.p_sat
  185: ThermalParameters.pc
  186: ThermalParameters.Rc
  187: ThermalParameters.rho_A
  188: ThermalParameters.rho_B
  189: ThermalParameters.T_sat
  190: Timestepper_BDFinit
  191: Timestepper_LevelSetHandling
  192: TimesteppingMode
  193: TimeSteppingScheme
  194: UseSchurBlockPrec
  195: useSolutionParamUpdate
  196: withDissipativePressure
  197: WriteInterfaceP
  198: XdgMatrixAssembly
}
==============
**************
==============
// The Session column can't be serialized,
// we have to remove it
List<string> AllCols = SessTab.GetColumnNames().ToList();
AllCols.Remove("Session");
**************
True
==============
// ==================================
// Testing if every Column has values
// ==================================
**************
==============
SessTab = SessTab.ExtractColumns(AllCols.ToArray());
**************
==============
var SubTab = SessTab.ExtractColumns("SessionName","DGdegree:Velocity*", "Grid:NoOfCells", "LinearSolver.SolverCode", "DOFs", "XdgMatrixAssembly",
"Aggregation_basis_init_time",
"Solver_Init_time",
"Solver_Run_time", "NoIter");
SubTab.Print();
**************
   SessionName                 DGdegree:Velocity* Grid:NoOfCells LinearSolver.SolverCode DOFs   XdgMatrixAssembly Aggregation_basis_init_time Solver_Init_time Solver_Run_time NoIter 
0: J512_p5_exp_Kcycle_schwarz  5                  512            41                      104139 157.0791881       4.3731497                   155.1058635      13628.5915319   443    
1: J4096_p3_exp_Kcycle_schwarz 3                  4096           41                      286790 102.2325547       2.4452608                   71.5459992       3200.6355949    72     
2: J4096_p2_exp_Kcycle_schwarz 2                  4096           41                      139298 37.2924334        0.9290242                   18.3826656       261.3072545     50     
3: J512_p3_exp_Kcycle_schwarz  3                  512            41                      35910  16.0832644        0.2916491                   10.1733746       209.4347505     145    
4: J512_p2_exp_Kcycle_schwarz  2                  512            41                      17442  6.3044496         0.0989321                   2.6844845        13.3899112      37     
==============
// ===========
// Export json
// ===========
**************
==============
// Filename
var now           = DateTime.Now;
SessTab.TableName = WFlowName + "_" + now.Year + "-" + now.Month + "-" + now.Day;
string docpath    = Path.Combine(dirpath, SessTab.TableName + ".json");
**************
==============
SessTab.SaveToFile(docpath);
**************
==============
docpath
**************
B:\BoSSS-gitlab\public\doc\handbook\apdx-NodeSolverPerformance\XDGStokes\Xdg_Stokes_Schwarz-direct_4SB_2Lvl_2020-11-10.json
==============
SubTab.ToCSVFile(dirpath+@"\"+WFlowName+"_scaling.txt");
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
**************
==============
